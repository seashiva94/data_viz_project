<!DOCTYPE HTML>
<html>
  <head>
    <title>Journalist Deaths Since 1992</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"> 
    <link rel="stylesheet" href="css/index.css">
    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="https://resources/demos/style.css">
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega@4"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@3.0.0-rc3"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@3"></script>
    <script>
      var year = 0;
      var spec = "";
      var text = "";
       $(function() {
            $( "#slider" ).slider({
       value: 1992,
       animate:"slow",
       orientation: "horizontal",
       range: true,
       min: 1992,
       max: 2016,
       slide: function( event, ui ) {
       $( "#slider_year" ).val( ui.value );
          val = ui.value
          year = val;
          console.log("year = ",year)
          var spec = "viz/" + year.toString() + ".json"
          console.log(spec)
          vegaEmbed('#vis', spec, {defaultStyle: true}).catch(console.warn);
          text = "<b>Deaths in year <em>" + year.toString() + "</em> across the world </b>";
	  document.getElementById("year_info").innerHTML = text;
               }	
       });
       $( "#slider_year" ).val( $( "#slider" ).slider( "value" ) );
       year = $("#slider").slider("value");
       console.log("year = ",year)
       var spec = "viz/" + year.toString() + ".json"
       console.log(spec)
       text = "<b>Deaths in year <em>" + year.toString() + "</em> across the world </b>";
       document.getElementById("year_info").innerHTML = text;
       vegaEmbed('#vis', spec, {defaultStyle: true}).catch(console.warn);
       
       });
       
       //spec = "Income.json";
       //var year = $( "#slider" ).slider( "value" );
       //console.log(year)

       const spec_all = "viz/overall.json"
       vegaEmbed('#vis_all', spec_all, {defaultStyle: true}).catch(console.warn);

    </script>
    <script>
      //function update_network(){
      //console.log("update")
      //}
      
    </script>

      <script>
  $( function() {
  $( "#network_year" ).selectmenu({
  select: function(event, ui){
  console.log('updated')
  var network_year = ui.item.value
  console.log(network_year)
  network_file = "viz/" + network_year + ".html"
  console.log(network_file)
  document.getElementById("network_select").src = network_file
  }
  });
  } );
  </script>
   
  </head>
  <body>
    <div class="container-fluid" align="center">
      <h1>Journalist Deaths Since 1992</h1>
      <div class="info">
	<p>
	  Journalism is one of the most important occupation in a free world. 
Hard working journalists spend enormous amounts of their time and energy to dig into the situations and provide us with information that most people would miss otherwise. 
Good journalism keeps the organizations in power in check and empower the citizens in a democracy with knowledge about the world.<br>
The job however comes with its risks. Over the years journalists have had to face various perilous situations and many of them have been fatal.<br>
	  In this project, we aim to visualize the information about the journalists who gave their life for the job and attempt to understand any reasons that gravity of the situation and aim find out which topics and geographical regions have proven to be more fatal than others.<br>
<br>
	  The dataset provided by the CPJ on <a href = "https://www.kaggle.com/cpjournalists/journalists-killed-worldwide-since-1992">Kaggle</a> contains information of journalist deaths from 1992 to March 2016 in 105 countries. Each event has information about the journalist's work and the murder.<br>
CPJ includes in its definition of journalists the staff, freelancers, bloggers, stringers and journalists citizen who report news in the public domain regardless of the medium, which could be printed, photographic, radio, television or electronic.<br>
	</p>
      </div>
      <h2 align="center">Visualization Results</h2>
      <div class="info">
	<p>
	  #something here#
	</p>
      </div>
      
      <h3 align="center">Exploratory Analysis</h3>
      <div class="info">
      <p>
	We start by exploring the dataset, and perform nasic exploratory data analysis on the dataset to get a better understanding of the data.

	#insert eda graphs here#

	As we can see from the graph on medium, there are different entries in the dataset that refer to the same entity.
	We can also see that there are various rows that contain null values.<br><br>
	
      </p>

      <iframe src="viz/TimeSeries.html" class="eda"></iframe>
      <p>
	Further, we can see from the time series graph the trend in the number of journalists killed across the world every year in the dataset.
	We can clearly see some periods where there have been more deaths, and these can be explained by #something#
      </p>
      </div>


      <h3 align="center">Data Maps</h3>
      <div class="year_slider">
	<p>
	  <div id="vis_all" ></div>
	  <b>Journalists Deaths Since 1992</b> <br>
	  <br>
	</p>
	<p class="info">
	  The above map visualizes the number of deaths of journalists in each country 
	  between the years 1992 and 2016.<br>
	  The following visualizations provide a much detailed year-by year visualization for the same.
	  These visualizations help us in comparing the worldwide socio-politcal scenario and changes
	  in consequetive years.
	</p>
	
	<p>
	  <em>Use the slider to select the year to visualize</em>
	</p>
	<div id="slider" ></div>
	<div id = "year_info" ></div>
	<div id="vis" ></div>
      </div>
      
      <h3 align="center">Network Graph</h3>
      <div class="info">
	<p>
	  The following network graph shows the connections between the journalists and the coverage (the
	  topics they were reporting on) at the time of death, for the entire dataset. We can see some
	  interesting structure in the network graph.
	</p>
	<iframe src="viz/overallNetwork.html" class="network_iframe"></iframe>

	<p>
	  <form onSubmit="update_network">
	  <fieldset>
	  <label for="network_year">Select year range</label>
	  <select name="network_year" id="network_year">
	    <option selected = "selected">1992-1999</option>
	    <option selected = "selected">2000-2005</option>
	    <option selected = "selected">2006-2010</option>
	    <option selected = "selected">2011-2016</option>
	  </select>
	  </fieldset>
	  </form>
	  
	  <iframe src="viz/1992-1999.html" class="network_iframe" id="network_select"></iframe>
	</p>
	
      </div>

      <h3 align="center">Discussions</h3>
      <div class="info">
	<p>
	</p>
      </div>
    </div>
  </body>

</html>
